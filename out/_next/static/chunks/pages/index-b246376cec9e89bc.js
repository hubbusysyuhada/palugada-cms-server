(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3081)}])},18:function(e,a,t){"use strict";var l=t(6154);a.Z=l.Z.create({baseURL:"https://palugada-cms-acba24770f44.herokuapp.com/api"})},3081:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return ap}});var l=t(5893),s=t(7294),n=t(5675),i=t.n(n),r=t(74),c=t.n(r),d=t(1649);function o(e){let a=(0,d.v9)(e=>e.GlobalContextReducer.isLoading);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"".concat(c().loading," ").concat(a?"":c().hide),children:(0,l.jsx)(i(),{className:c().illustration,src:"/loading-spinner.svg",alt:"illustration",width:75,height:75,priority:!0})}),e.children]})}var h=t(7378),u=t(1163),m=t(4341),x=t.n(m),g=t(3321),p=t(8409),j=t(4666),f=t(7645),Z=t(6514),v=t(1903),b=t(1425),y=t(8703),N=t(1737),w=t(8599),_=t(5143),S=t(6455),k=t.n(S),C=async e=>{let{action:a,text:t,title:l,icon:s,hideDenyButton:n,html:i}=e,r={icon:s,text:t,title:l,html:i,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}};n||(r.showDenyButton=!0,r.confirmButtonText="YES",r.denyButtonText="NO");let{isConfirmed:c}=await k().fire(r);c&&a&&(console.log("sini"),a())};let A={style:{fontSize:"16px"},disableUnderline:!0};function P(){let e=(0,d.v9)(e=>e.AuthReducer.features),a=(0,d.v9)(e=>e.AuthReducer.user),t=(0,d.v9)(e=>e.AuthReducer.isChangePasswordError),n=(0,d.v9)(e=>e.AuthReducer.isChangePasswordSuccess),r=(0,d.v9)(e=>e.GlobalContextReducer.routeName),c=(0,h.T)(),o=(0,u.useRouter)(),m=o.pathname,[S,k]=(0,s.useState)({current:"",new:"",confirm:""}),[P,I]=(0,s.useState)(!1),[R,z]=(0,s.useState)(!1),[B,E]=(0,s.useState)(0),[O,W]=(0,s.useState)(!1),[K,T]=(0,s.useState)([]),D=["transactions","catalogs","categories","sub_categories","items","racks","suppliers","supplies","employees","roles","user"],U={transactions:"transaksi",catalogs:"katalog",categories:"kategori",sub_categories:"sub kategori",items:"barang",racks:"rak",suppliers:"supplier",supplies:"supply barang",employees:"karyawan",roles:"roles",user:"user"};async function H(e){e.preventDefault(),C({icon:"question",text:"ARE YOU SURE WANT TO LOG OUT AS ".concat(null==a?void 0:a.external_id,"?"),action:()=>{C({icon:"success",text:"LOGGED OUT",hideDenyButton:!0}),c((0,w.lK)()),localStorage.removeItem("access_token"),o.push("/auth")}})}(0,s.useEffect)(()=>{if(e.length>0){let a=D.filter(a=>e.includes(a));T(a),E(a.indexOf(m.split("/")[1]))}},[e]),(0,s.useEffect)(()=>{let{new:e,confirm:a,current:t}=S;t&&e&&a===e?I(!1):I(!0)},[S]);let M=(a,t)=>{t.preventDefault();let l=()=>{let t=D.filter(a=>e.includes(a));W(!1),E(a),c((0,_.L)(t[a]))};"create-supply"===r?C({icon:"question",title:"Ingin meninggalkan halaman buat supply baru?",text:"Semua perubahan tidak akan tersimpan",action:l}):l()},L=e=>{e.preventDefault(),W(!O)},J=()=>{z(!1),k({current:"",new:"",confirm:""}),I(!0)},Y=e=>{e.preventDefault(),J();let t={username:(null==a?void 0:a.external_id)||"",password:S.current,newPassword:S.new};c((0,w.n1)(t))},G=e=>{"clickaway"!==e&&(c({type:"auth/turnOffChangePasswordError"}),c({type:"auth/turnOffChangePasswordSuccess"}))};return(0,l.jsxs)("div",{className:x().root,children:[(0,l.jsx)("div",{className:x()["image-container"],children:(0,l.jsx)(i(),{className:x().illustration,src:"/company-logo.png",alt:"logo",width:50,height:50,priority:!0})}),(0,l.jsxs)(p.Z,{orientation:"vertical",variant:"scrollable",value:B,className:x().tabs,TabIndicatorProps:{style:{backgroundColor:"#6A32CB"}},children:[(()=>{let e=[];return K.forEach((a,t)=>{e.push((0,l.jsx)(g.Z,{className:x()["button-tab"],onClick:e=>M(t,e),children:(0,l.jsx)("span",{className:x()["primary-color"],style:{marginLeft:"15px"},children:U[a]})}))}),e})(),(0,l.jsxs)("div",{className:x()["account-tab"],children:[(0,l.jsx)(g.Z,{className:x()["button-tab"],onClick:e=>L(e),children:(0,l.jsx)("span",{className:x()["primary-color"],style:{marginLeft:"15px"},children:"ACCOUNT"})}),O?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.Z,{className:x()["account-setting-btn"],onClick:e=>z(!0),children:(0,l.jsx)("span",{className:x()["primary-color"],style:{marginLeft:"15px"},children:"GANTI PASSWORD"})}),(0,l.jsx)(g.Z,{className:x()["account-setting-btn"],onClick:H,children:(0,l.jsx)("span",{className:x()["primary-color"],style:{marginLeft:"15px"},children:"LOG OUT"})})]}):null]})]}),(0,l.jsxs)("h5",{className:"text-center mb-40",children:["SUMBER CAHAYA","â„¢",(0,l.jsx)("br",{})," 2023"]}),(0,l.jsxs)(j.Z,{open:R,onClose:J,"aria-labelledby":"form-dialog-title",style:{width:"500px",margin:"auto",textAlign:"center"},children:[(0,l.jsxs)(f.Z,{id:"form-dialog-title",children:["Change Password for ",null==a?void 0:a.external_id]}),(0,l.jsxs)(Z.Z,{children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Current Password",type:"password",value:S.current,onChange:e=>{k({...S,current:e.target.value})},InputProps:{...A},variant:"standard",fullWidth:!0}),(0,l.jsx)(v.Z,{margin:"dense",label:"New Password",type:"password",value:S.new,onChange:e=>{k({...S,new:e.target.value})},InputProps:{...A},variant:"standard",fullWidth:!0}),(0,l.jsx)(v.Z,{margin:"dense",label:"Confirm Password",type:"password",value:S.confirm,onChange:e=>{k({...S,confirm:e.target.value})},InputProps:{...A},variant:"standard",fullWidth:!0})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:Y,color:"primary",disabled:P,children:"Change Password"})})]}),(0,l.jsx)(y.Z,{open:t,autoHideDuration:2e3,onClose:(e,a)=>G(a),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,l.jsx)(N.Z,{onClose:()=>G(""),severity:"error",children:"Invalid Password!"})}),(0,l.jsx)(y.Z,{open:n,autoHideDuration:2e3,onClose:(e,a)=>G(a),anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,l.jsx)(N.Z,{onClose:()=>G(""),severity:"success",children:"Password Successfully Changed"})})]})}var I=t(2978),R=t.n(I),z=t(18);let B=()=>async e=>{e((0,_.c)(!0));let a=localStorage.getItem("access_token"),{data:t}=await z.Z.get("/roles",{headers:{Authorization:"Bearer "+a}}),{data:l}=await z.Z.get("/route_permissions",{headers:{Authorization:"Bearer "+a}});if(t&&l){let a=[];["transactions","catalogs","categories","sub_categories","items","racks","suppliers","supplies","employees","roles"].map(e=>a.push(l.data.find(a=>a.name===e))),e({type:"rbac/roles",payload:t.data}),e({type:"rbac/permissions",payload:a})}e((0,_.c)(!1))},E=()=>async e=>{let a=localStorage.getItem("access_token"),{data:t}=await z.Z.get("/roles",{headers:{Authorization:"Bearer "+a}});t&&e({type:"rbac/roles",payload:t.data})},O=e=>async a=>{try{let{roleId:a,permissionsId:t,name:l}=e,s=localStorage.getItem("access_token"),{data:n}=await z.Z.put("/roles/".concat(a),{name:l,permissionsId:t},{headers:{Authorization:"Bearer "+s}})}catch(e){T(e)}finally{a(B())}},W=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/roles",{name:e},{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(B())}},K=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.delete("/roles/".concat(e),{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(B())}};function T(e){C({icon:"error",text:e.response.data.code||e.response.data.message||"something went wrong",hideDenyButton:!0})}var D=t(5071),U=t(3946),H=t(5832),M=t(7646),L=t(6761);let J={style:{fontSize:"16px"},disableUnderline:!0};function Y(){let e=(0,d.v9)(e=>e.RBACReducer.allRoles),[a,t]=(0,s.useState)([]),n=(0,d.v9)(e=>e.RBACReducer.allPermissions),[i,r]=(0,s.useState)(""),c=(0,h.T)(),[o,u]=(0,s.useState)("");(0,s.useEffect)(()=>{c(B())},[]),(0,s.useEffect)(()=>{t(e.filter(e=>"owner"!==e.name))},[e]);let m=e=>{let t=a[e].permissions.map(e=>e.id);return n.map((a,s)=>(0,l.jsxs)("div",{className:R()["permission-detail"],children:[(0,l.jsx)("p",{children:a.name.replaceAll("_"," ")}),(0,l.jsx)(D.Z,{checked:t.includes(a.id),color:"success",onChange:t=>f(e,a)})]}))},x=e=>{r(i===e?"":e)},p=()=>{a.map(e=>e.name).includes(o)?C({icon:"error",text:"".concat(o," already existed."),hideDenyButton:!0}):(c(W(o)),u(""))},j=(e,l)=>{let s=JSON.parse(JSON.stringify(a));s[e].name=l,t([...s])},f=(e,l)=>{let s=JSON.parse(JSON.stringify(a)),n=s[e].permissions,i=n.map(e=>e.id);i.includes(l.id)?n.splice(n.map(e=>e.id).indexOf(l.id),1):n.push(l),t([...s]),c(O({name:s[e].name,roleId:s[e].id,permissionsId:n.map(e=>e.id)}))},Z=l=>{let{name:s,id:n}=a[l];a.filter(e=>e.name===s).length>1?(C({icon:"error",text:"".concat(s," already existed."),hideDenyButton:!0}),t(e.filter(e=>"owner"!==e.name))):"owner"===s?(C({icon:"error",text:"".concat(s," is prohibited."),hideDenyButton:!0}),t(e.filter(e=>"owner"!==e.name))):c(O({name:s,roleId:n,permissionsId:[]}))},b=async e=>{C({icon:"question",text:"DELETE ROLE ".concat(a[e].name,"?"),action:()=>c(K(a[e].id))})};return(0,l.jsx)("div",{className:R().root,children:(0,l.jsxs)("div",{className:R()["role-container"],children:[a.map((e,a)=>(0,l.jsxs)("div",{style:{display:"flex",alignItems:"baseline"},children:[(0,l.jsxs)("div",{className:R().role,children:[(0,l.jsxs)("div",{className:R()["role-title"],onClick:()=>x(e.id),children:[(0,l.jsx)(v.Z,{placeholder:"KEY",disabled:!1,value:e.name,variant:"standard",InputProps:{...J,style:{fontSize:"20px"}},onChange:e=>j(a,e.target.value),onBlur:()=>Z(a)}),i===e.id?(0,l.jsx)(H.Z,{}):(0,l.jsx)(M.Z,{})]}),(0,l.jsx)("div",{className:"".concat(R().permissions," ").concat(i===e.id?R().show:R().hide),children:m(a)})]}),(0,l.jsx)(U.Z,{size:"small",onClick:()=>b(a),edge:"end",children:(0,l.jsx)(L.Z,{style:{height:"14px",width:"14px"}})})]})),(0,l.jsxs)("div",{className:R()["create-div"],children:[(0,l.jsx)(v.Z,{className:R()["new-role-name"],value:o,onChange:e=>u(e.target.value),placeholder:"NAME",variant:"standard",InputProps:{...J}}),(0,l.jsx)(g.Z,{size:"small",variant:"outlined",disabled:!o,onClick:p,style:{height:"25px",color:"#08011b",borderColor:"#08011b"},children:"Add Role"})]})]})})}var G=t(629),q=t(2882),F=t(7906),V=t(3184),Q=t(3816),X=t(3252),$=t(295),ee=t(1683),ea=t(431),et=t(8896),el=t(9334),es=t(4054),en=t(3841);let ei=e=>async a=>{a((0,_.c)(!0));let{name:t,roleIds:l,limit:s,offset:n}=e,i="/users?limit=".concat(s||25,"&offset=").concat(n||0);t&&(i+="&username=".concat(t)),(null==l?void 0:l.length)&&(i+="&role_id=".concat(JSON.stringify(l)));let r=localStorage.getItem("access_token"),{data:c}=await z.Z.get(i,{headers:{Authorization:"Bearer "+r}});if(c){var d;a({type:"user/set-users",payload:{users:c,totalRow:(null===(d=c[0])||void 0===d?void 0:d.total_row)||0}})}a((0,_.c)(!1))},er=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/register",e,{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(ei({}))}},ec=(e,a)=>async t=>{try{let t=localStorage.getItem("access_token");await z.Z.post("/change-role/".concat(e),{role:a},{headers:{Authorization:"Bearer "+t}})}catch(e){T(e)}finally{t(ei({}))}};function ed(){return(0,l.jsx)("div",{style:{width:"100%",height:"calc(100vh * (75 / 100))",position:"relative"},children:(0,l.jsx)(i(),{src:"/no-data.png",alt:"no-data",fill:!0,priority:!0,objectFit:"contain"})})}let eo={style:{fontSize:"16px"},disableUnderline:!0};function eh(){let e=(0,d.v9)(e=>e.RBACReducer.allRoles),a=(0,d.v9)(e=>e.UserReducer.users),t=(0,d.v9)(e=>e.UserReducer.totalRow),[n,i]=(0,s.useState)({username:"",password:"",confirmPassword:"",role:""}),[r,c]=(0,s.useState)(!0),[o,u]=(0,s.useState)(!1),[m,x]=(0,s.useState)(["No Role Chosen"]),p=(0,s.useRef)([]),[y,N]=(0,s.useState)(),[w,_]=(0,s.useState)(25),[S,k]=(0,s.useState)(0),C=(0,s.useRef)(""),A=(0,h.T)();(0,s.useEffect)(()=>{let{username:e,password:a,confirmPassword:t,role:l}=n;e&&a&&t&&l&&a===t?c(!1):c(!0)},[n]),(0,s.useEffect)(()=>{O(),A(E())},[]),(0,s.useEffect)(()=>{O()},[w,S]);let P=()=>{u(!1),i({username:"",password:"",confirmPassword:"",role:""}),c(!0)},I=e=>{e.preventDefault();let a={external_id:n.username,password:n.password,role_id:n.role};A(er(a)),P()},R=(e,a)=>{A(ec(e,a))},z=a=>{let t=e.find(e=>e.id===a[a.length-1]),l=p.current.indexOf(t.id),s=m.indexOf(t.name),n=[],i=[];i=-1===l?[...p.current,t.id]:p.current.filter((e,a)=>a!==l),n=-1===s?[...m,t.name]:m.filter((e,a)=>a!==s),0!==i.length&&n.includes("No Role Chosen")?n.shift():0===i.length&&n.push("No Role Chosen"),x(n),p.current=i,O()},B=e=>{C.current=e,clearTimeout(y);let a=setTimeout(()=>{O()},1e3);N(a)},O=()=>{let e=S*w;e>=t&&(e=0),A(ei({name:C.current,roleIds:p.current,limit:w,offset:e}))};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:()=>u(!0),children:"Register Account"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsxs)("div",{className:"filter-group mb-50",children:[(0,l.jsx)("div",{className:"width-50",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Name"})}),(0,l.jsx)(v.Z,{placeholder:"User Name",variant:"outlined",size:"small",fullWidth:!0,value:C.current,onChange:e=>B(e.target.value)})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Role"})}),(0,l.jsx)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:m,variant:"outlined",size:"small",onChange:e=>z(e.target.value),fullWidth:!0,multiple:!0,children:e.filter(e=>"owner"!==e.name).map((e,a)=>(0,l.jsxs)(ea.Z,{value:e.id,children:[(0,l.jsx)(D.Z,{size:"small",checked:p.current.includes(e.id)}),(0,l.jsx)(el.Z,{primary:e.name})]}))})]})})]}),a.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",children:"Name"}),(0,l.jsx)(X.Z,{align:"center",children:"Role"})]})}),(0,l.jsx)($.Z,{children:a.filter(e=>"owner"!==e.role.name).map((a,t)=>(0,l.jsxs)(Q.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:t+1+S*w}),(0,l.jsx)(X.Z,{align:"left",children:a.external_id}),(0,l.jsx)(X.Z,{align:"center",children:(0,l.jsx)(ee.Z,{labelId:"demo-select-small-label",value:a.role.id,label:"Role",variant:"standard",disableUnderline:!0,onChange:e=>R(a.id,e.target.value),fullWidth:!0,children:e.filter(e=>"owner"!==e.name).map(e=>(0,l.jsx)(ea.Z,{value:e.id,selected:a.role===e,children:e.name}))})})]},a.id))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:t,rowsPerPage:w,page:S,onPageChange:(e,a)=>{k(a)},onRowsPerPageChange:e=>{_(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]}),(0,l.jsxs)(j.Z,{open:o,onClose:P,"aria-labelledby":"form-dialog-title",style:{width:"500px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(f.Z,{id:"form-dialog-title",children:"Register New Account"}),(0,l.jsxs)(Z.Z,{children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Username",type:"text",InputProps:{...eo},variant:"standard",value:n.username,onChange:e=>{i({...n,username:e.target.value})},fullWidth:!0}),(0,l.jsx)(v.Z,{margin:"dense",label:"Password",type:"password",value:n.password,onChange:e=>{i({...n,password:e.target.value})},InputProps:{...eo},variant:"standard",fullWidth:!0}),(0,l.jsx)(v.Z,{margin:"dense",label:"Confirm Password",type:"password",value:n.confirmPassword,onChange:e=>{i({...n,confirmPassword:e.target.value})},InputProps:{...eo},variant:"standard",fullWidth:!0}),(0,l.jsxs)(es.Z,{size:"medium",fullWidth:!0,variant:"standard",sx:{textAlign:"left"},children:[(0,l.jsx)(en.Z,{id:"demo-select-small-label",children:"Role"}),(0,l.jsx)(ee.Z,{labelId:"demo-select-small-label",value:n.role,label:"Role",onChange:e=>i({...n,role:e.target.value}),children:e.filter(e=>"owner"!==e.name).map(e=>(0,l.jsx)(ea.Z,{value:e.id,children:e.name}))})]})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:I,color:"primary",disabled:r,children:"Add"})})]})]})}var eu=t(1023);let em=e=>async a=>{a((0,_.c)(!0));let{name:t,limit:l,offset:s,isActiveOnly:n}=e,i="/employees?limit=".concat(l||25,"&offset=").concat(s||0);t&&(i+="&name=".concat(t)),n&&(i+="&is_active=true");let r=localStorage.getItem("access_token"),{data:c}=await z.Z.get(i,{headers:{Authorization:"Bearer "+r}});if(c){var d;a({type:"employee/set-employees",payload:{employees:c.data,totalRow:(null===(d=c.data[0])||void 0===d?void 0:d.total_row)||0}})}a((0,_.c)(!1))},ex=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/employees",e,{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(em({isActiveOnly:!0}))}},eg=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.put("/employees/".concat(e),{is_active:!1},{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(em({isActiveOnly:!0}))}},ep=(e,a)=>async t=>{try{let t=localStorage.getItem("access_token");await z.Z.put("/employees/".concat(e),a,{headers:{Authorization:"Bearer "+t}})}catch(e){T(e)}finally{t(em({isActiveOnly:!0}))}};var ej=t(1797),ef=t(4625);let eZ={style:{fontSize:"16px"},disableUnderline:!0};function ev(){let e=(0,d.v9)(e=>e.EmployeeReducer.employees),a=(0,d.v9)(e=>e.EmployeeReducer.totalRow),[t,n]=(0,s.useState)(""),[i,r]=(0,s.useState)(""),[c,o]=(0,s.useState)({id:"",name:"",idKaryawan:""}),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!0),[y,N]=(0,s.useState)(!0),[w,_]=(0,s.useState)(!1),[S,k]=(0,s.useState)(!1),[A,P]=(0,s.useState)(),[I,R]=(0,s.useState)(25),[z,B]=(0,s.useState)(0),E=(0,s.useRef)(""),O=(0,h.T)();(0,s.useEffect)(()=>{t?p(!1):p(!0)},[t]),(0,s.useEffect)(()=>{let a=e.filter(e=>e.id!==c.id&&e.name===c.name);!a.length&&c.name?N(!1):N(!0),a.length?m(!0):m(!1)},[c]),(0,s.useEffect)(()=>{J()},[]),(0,s.useEffect)(()=>{J()},[I,z]);let W=()=>{_(!1),n(""),p(!0)},K=e=>{e.preventDefault(),O(ex({name:t,idKaryawan:i})),W()},T=async e=>{C({icon:"question",text:"APAKAH KAMU YAKIN INGIN MENONAKTIFKAN ".concat(e.name," SEBAGAI KARYAWAN?"),action:()=>O(eg(e.id))})},D=()=>{k(!1),o({id:"",name:"",idKaryawan:""}),N(!0)},H=e=>{o(e),k(!0)},M=e=>{e.preventDefault(),O(ep(c.id,{name:c.name,idKaryawan:c.idKaryawan})),D()},L=e=>{E.current=e,clearTimeout(A);let a=setTimeout(()=>{J()},1e3);P(a)},J=()=>{let e=z*I;e>=a&&(e=0),O(em({name:E.current,limit:I,offset:e,isActiveOnly:!0}))};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:()=>_(!0),children:"Tambahkan Karyawan"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsx)("div",{className:"filter-group mb-50",children:(0,l.jsx)("div",{className:"width-50",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Nama"})}),(0,l.jsx)(v.Z,{placeholder:"Nama atau ID Karyawan",variant:"outlined",size:"small",fullWidth:!0,value:E.current,onChange:e=>L(e.target.value)})]})})}),e.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",children:"Nama"}),(0,l.jsx)(X.Z,{align:"left",children:"ID Karyawan"}),(0,l.jsx)(X.Z,{align:"center",width:"20%",children:"Action"})]})}),(0,l.jsx)($.Z,{children:e.map((e,a)=>(0,l.jsxs)(Q.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:a+1+z*I}),(0,l.jsx)(X.Z,{align:"left",children:e.name}),(0,l.jsx)(X.Z,{align:"left",children:e.name}),(0,l.jsxs)(X.Z,{align:"center",width:"20%",children:[(0,l.jsx)(eu.Z,{title:"Edit",children:(0,l.jsx)(U.Z,{onClick:()=>H(e),children:(0,l.jsx)(ej.Z,{fontSize:"small"})})}),(0,l.jsx)(eu.Z,{title:"Nonaktifkan",children:(0,l.jsx)(U.Z,{onClick:()=>T(e),children:(0,l.jsx)(ef.Z,{fontSize:"small"})})})]})]},e.id))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:a,rowsPerPage:I,page:z,onPageChange:(e,a)=>{B(a)},onRowsPerPageChange:e=>{R(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]}),(0,l.jsxs)(j.Z,{open:w,onClose:W,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(f.Z,{id:"form-dialog-title",children:"Tambahkan Karyawan"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eZ},variant:"standard",value:t,onChange:e=>n(e.target.value),fullWidth:!0}),(0,l.jsx)(v.Z,{margin:"dense",label:"ID Karyawan",type:"text",InputProps:{...eZ},variant:"standard",value:i,onChange:e=>r(e.target.value),fullWidth:!0})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:K,color:"primary",disabled:x,children:"Tambahkan"})})]}),(0,l.jsxs)(j.Z,{open:S,onClose:D,children:[(0,l.jsx)(f.Z,{children:"Edit Karyawan"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eZ},variant:"standard",value:c.name,onChange:e=>o({id:c.id,name:e.target.value,idKaryawan:c.idKaryawan}),fullWidth:!0,helperText:u?"Nama tidak boleh sama":"",error:u}),(0,l.jsx)(v.Z,{margin:"dense",label:"ID Karyawan",type:"text",InputProps:{...eZ},variant:"standard",value:c.idKaryawan,onChange:e=>o({id:c.id,idKaryawan:e.target.value,name:c.name}),fullWidth:!0,helperText:u?"Nama tidak boleh sama":"",error:u})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:M,color:"primary",disabled:y,children:"Simpan"})})]})]})}let eb=e=>async a=>{a((0,_.c)(!0));let{name:t,limit:l,offset:s}=e,n="/catalogs?limit=".concat(l||25,"&offset=").concat(s||0);t&&(n+="&name=".concat(t));let i=localStorage.getItem("access_token"),{data:r}=await z.Z.get(n,{headers:{Authorization:"Bearer "+i}});if(r){var c;a({type:"catalog/set-catalogs",payload:{catalogs:r.data,totalRow:(null===(c=r.data[0])||void 0===c?void 0:c.total_row)||0}})}a((0,_.c)(!1))},ey=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/catalogs",{name:e},{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(eb({}))}},eN=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.delete("/catalogs/".concat(e),{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(eb({}))}},ew=(e,a)=>async t=>{try{let t=localStorage.getItem("access_token");await z.Z.put("/catalogs/".concat(e),{name:a},{headers:{Authorization:"Bearer "+t}})}catch(e){T(e)}finally{t(eb({}))}},e_={style:{fontSize:"16px"},disableUnderline:!0};function eS(){let e=(0,d.v9)(e=>e.CatalogReducer.catalogs),a=(0,d.v9)(e=>e.CatalogReducer.totalRow),[t,n]=(0,s.useState)(""),[i,r]=(0,s.useState)({id:"",name:""}),[c,o]=(0,s.useState)(!0),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!0),[y,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[S,k]=(0,s.useState)(),[A,P]=(0,s.useState)(25),[I,R]=(0,s.useState)(0),z=(0,s.useRef)(""),B=(0,h.T)();(0,s.useEffect)(()=>{t?m(!1):m(!0)},[t]),(0,s.useEffect)(()=>{let a=e.filter(e=>e.id!==i.id&&e.name===i.name);!a.length&&i.name?p(!1):p(!0),a.length?o(!0):o(!1)},[i]),(0,s.useEffect)(()=>{M()},[]),(0,s.useEffect)(()=>{M()},[A,I]);let E=()=>{N(!1),n(""),m(!0)},O=e=>{e.preventDefault(),B(ey(t)),E()},W=async e=>{C({icon:"question",text:"APAKAH KAMU YAKIN INGIN MENGHAPUS ".concat(e.name,"?"),action:()=>B(eN(e.id))})},K=()=>{_(!1),r({id:"",name:""}),p(!0)},T=e=>{r(e),_(!0)},D=e=>{e.preventDefault(),B(ew(i.id,i.name)),K()},H=e=>{z.current=e,clearTimeout(S);let a=setTimeout(()=>{M()},1e3);k(a)},M=()=>{let e=I*A;e>=a&&(e=0),B(eb({name:z.current,limit:A,offset:e}))};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:()=>N(!0),children:"Buat Katalog Baru"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsx)("div",{className:"filter-group mb-50",children:(0,l.jsx)("div",{className:"width-50",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Name"})}),(0,l.jsx)(v.Z,{placeholder:"Nama Katalog",variant:"outlined",size:"small",fullWidth:!0,value:z.current,onChange:e=>H(e.target.value)})]})})}),e.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",children:"Nama"}),(0,l.jsx)(X.Z,{align:"center",width:"20%",children:"Action"})]})}),(0,l.jsx)($.Z,{children:e.map((e,a)=>(0,l.jsxs)(Q.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:a+1+I*A}),(0,l.jsx)(X.Z,{align:"left",children:e.name}),(0,l.jsxs)(X.Z,{align:"center",width:"20%",children:[(0,l.jsx)(eu.Z,{title:"Edit",children:(0,l.jsx)(U.Z,{onClick:()=>T(e),children:(0,l.jsx)(ej.Z,{fontSize:"small"})})}),(0,l.jsx)(eu.Z,{title:"Hapus",children:(0,l.jsx)(U.Z,{onClick:()=>W(e),children:(0,l.jsx)(L.Z,{fontSize:"small"})})})]})]},e.id))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:a,rowsPerPage:A,page:I,onPageChange:(e,a)=>{R(a)},onRowsPerPageChange:e=>{P(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]}),(0,l.jsxs)(j.Z,{open:y,onClose:E,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(f.Z,{id:"form-dialog-title",children:"Buat Katalog Baru"}),(0,l.jsx)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...e_},variant:"standard",value:t,onChange:e=>n(e.target.value),fullWidth:!0})}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:O,color:"primary",disabled:u,children:"Tambahkan"})})]}),(0,l.jsxs)(j.Z,{open:w,onClose:K,children:[(0,l.jsx)(f.Z,{children:"Edit Catalog"}),(0,l.jsx)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...e_},variant:"standard",value:i.name,onChange:e=>r({id:i.id,name:e.target.value}),fullWidth:!0,helperText:c?"Nama tidak boleh sama":"",error:c})}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:D,color:"primary",disabled:x,children:"Simpan"})})]})]})}let ek=e=>async a=>{a((0,_.c)(!0));let{name:t,catalogIds:l,limit:s,offset:n}=e,i="/categories?limit=".concat(s||25,"&offset=").concat(n||0);t&&(i+="&name=".concat(t)),(null==l?void 0:l.length)&&(i+="&catalog_id=".concat(JSON.stringify(l)));let r=localStorage.getItem("access_token"),{data:c}=await z.Z.get(i,{headers:{Authorization:"Bearer "+r}}),{data:d}=await z.Z.get("/categories/all-catalogs",{headers:{Authorization:"Bearer "+r}});if(c&&d){var o;a({type:"category/set-categories",payload:{categories:c.data,totalRow:(null===(o=c.data[0])||void 0===o?void 0:o.total_row)||0}}),a({type:"catalog/set-catalogs",payload:{catalogs:d.data}})}a((0,_.c)(!1))},eC=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/categories",e,{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(ek({}))}},eA=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.delete("/categories/".concat(e),{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(ek({}))}},eP=e=>async a=>{try{let{id:a,name:t,catalog_id:l}=e,s=localStorage.getItem("access_token");await z.Z.put("/categories/".concat(a),{name:t,catalog_id:l},{headers:{Authorization:"Bearer "+s}})}catch(e){T(e)}finally{a(ek({}))}},eI={style:{fontSize:"16px"},disableUnderline:!0};function eR(){var e;let a=(0,d.v9)(e=>e.CatalogReducer.catalogs),t=(0,d.v9)(e=>e.CategoryReducer.totalRow),n=(0,d.v9)(e=>e.CategoryReducer.categories),[i,r]=(0,s.useState)({name:"",catalog_id:""}),[c,o]=(0,s.useState)({id:"",name:"",catalog_id:""}),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!0),[y,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[S,k]=(0,s.useState)(),[A,P]=(0,s.useState)(["Pilih Katalog"]),I=(0,s.useRef)(""),R=(0,s.useRef)([]),[z,B]=(0,s.useState)(25),[E,O]=(0,s.useState)(0),W=(0,h.T)();(0,s.useEffect)(()=>{i.name?m(!1):m(!0)},[i]),(0,s.useEffect)(()=>{var e;r({...i,catalog_id:(null===(e=a[0])||void 0===e?void 0:e.id)||""})},[a]),(0,s.useEffect)(()=>{c.name?p(!1):p(!0)},[c]),(0,s.useEffect)(()=>{W(ek({limit:z,offset:E*z}))},[]),(0,s.useEffect)(()=>{ec()},[z,E]);let K=()=>{N(!1),r({name:"",catalog_id:a[0].id}),m(!0)},T=e=>{e.preventDefault(),W(eC(i)),K()},H=async e=>{C({icon:"question",text:"APA KAMU YAKIN INGIN MENGHAPUS ".concat(e.name,"?"),action:()=>W(eA(e.id))})},M=()=>{var e;_(!1),o({id:"",name:"",catalog_id:(null===(e=a[0])||void 0===e?void 0:e.id)||""}),p(!0)},J=e=>{o({...e,catalog_id:e.catalog.id}),_(!0)},Y=e=>{e.preventDefault(),W(eP(c)),M()},ei=e=>{I.current=e,clearTimeout(S);let a=setTimeout(()=>{ec()},1e3);k(a)},er=e=>{let t=a.find(a=>a.id===e[e.length-1]),l=R.current.indexOf(t.id),s=A.indexOf(t.name),n=[],i=[];i=-1===l?[...R.current,t.id]:R.current.filter((e,a)=>a!==l),n=-1===s?[...A,t.name]:A.filter((e,a)=>a!==s),0!==i.length&&n.includes("Pilih Katalog")?n.shift():0===i.length&&n.push("Pilih Katalog"),P(n),R.current=i,ec()},ec=()=>{let e=E*z;e>=t&&(e=0),W(ek({name:I.current,catalogIds:R.current,limit:z,offset:e}))};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:()=>N(!0),children:"Buat Kategori Baru"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsxs)("div",{className:"filter-group mb-50",children:[(0,l.jsx)("div",{className:"width-50",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Name"})}),(0,l.jsx)(v.Z,{placeholder:"Nama Kategori",variant:"outlined",size:"small",fullWidth:!0,value:I.current,onChange:e=>ei(e.target.value)})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Katalog"})}),(0,l.jsx)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:A,variant:"outlined",size:"small",onChange:e=>er(e.target.value),fullWidth:!0,multiple:!0,children:a.map((e,a)=>(0,l.jsxs)(ea.Z,{value:e.id,children:[(0,l.jsx)(D.Z,{size:"small",checked:R.current.includes(e.id)}),(0,l.jsx)(el.Z,{primary:e.name})]}))})]})})]}),n.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",width:"40%",children:"Nama"}),(0,l.jsx)(X.Z,{align:"left",children:"Katalog"}),(0,l.jsx)(X.Z,{align:"center",width:"20%",children:"Action"})]})}),(0,l.jsx)($.Z,{children:n.map((e,a)=>(0,l.jsxs)(Q.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:a+1+E*z}),(0,l.jsx)(X.Z,{align:"left",children:e.name}),(0,l.jsx)(X.Z,{align:"left",children:e.catalog.name}),(0,l.jsxs)(X.Z,{align:"center",width:"20%",children:[(0,l.jsx)(eu.Z,{title:"Edit",children:(0,l.jsx)(U.Z,{onClick:()=>J(e),children:(0,l.jsx)(ej.Z,{fontSize:"small"})})}),(0,l.jsx)(eu.Z,{title:"Hapus",children:(0,l.jsx)(U.Z,{onClick:()=>H(e),children:(0,l.jsx)(L.Z,{fontSize:"small"})})})]})]},e.id))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:t,rowsPerPage:z,page:E,onPageChange:(e,a)=>{O(a)},onRowsPerPageChange:e=>{B(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]}),(0,l.jsxs)(j.Z,{open:y,onClose:K,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(f.Z,{id:"form-dialog-title",children:"Buat Kategori Baru"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eI},variant:"standard",value:i.name,onChange:e=>r({...i,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsxs)(es.Z,{fullWidth:!0,className:"mb-5 mt-5",variant:"standard",children:[(0,l.jsx)(en.Z,{className:"mb-5 mt-5",children:"Katalog"}),(0,l.jsx)(ee.Z,{style:{textAlign:"left"},value:i.catalog_id||(null===(e=a[0])||void 0===e?void 0:e.id),label:"Katalog",variant:"standard",disableUnderline:!0,onChange:e=>r({...i,catalog_id:e.target.value}),fullWidth:!0,children:a.map((e,a)=>(0,l.jsx)(ea.Z,{value:e.id,children:e.name}))})]})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:T,color:"primary",disabled:u,children:"Tambahkan"})})]}),(0,l.jsxs)(j.Z,{open:w,onClose:M,children:[(0,l.jsx)(f.Z,{children:"Edit Category"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eI},variant:"standard",value:c.name,onChange:e=>o({...c,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsxs)(es.Z,{fullWidth:!0,className:"mb-5 mt-5",variant:"standard",children:[(0,l.jsx)(en.Z,{className:"mb-5 mt-5",children:"Katalog"}),(0,l.jsx)(ee.Z,{style:{textAlign:"left"},value:c.catalog_id,label:"Katalog",variant:"standard",disableUnderline:!0,onChange:e=>o({...c,catalog_id:e.target.value}),fullWidth:!0,children:a.map((e,a)=>(0,l.jsx)(ea.Z,{value:e.id,children:e.name}))})]})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:Y,color:"primary",disabled:x,children:"Simpan"})})]})]})}let ez=e=>async a=>{a((0,_.c)(!0));let{name:t,categoryIds:l,catalogIds:s,limit:n,offset:i}=e,r="/sub_categories?limit=".concat(n||25,"&offset=").concat(i||0);t&&(r+="&name=".concat(t)),(null==l?void 0:l.length)&&(r+="&category_id=".concat(JSON.stringify(l))),(null==s?void 0:s.length)&&(r+="&catalog_id=".concat(JSON.stringify(s)));let c=localStorage.getItem("access_token"),{data:d}=await z.Z.get(r,{headers:{Authorization:"Bearer "+c}}),{data:o}=await z.Z.get("/sub_categories/all-categories",{headers:{Authorization:"Bearer "+c}}),{data:h}=await z.Z.get("/sub_categories/all-catalogs",{headers:{Authorization:"Bearer "+c}});if(d&&h&&o){var u;a({type:"sub_category/set-sub_categories",payload:{sub_categories:d.data,totalRow:(null===(u=d.data[0])||void 0===u?void 0:u.total_row)||0}}),a({type:"category/set-categories",payload:{categories:o.data}}),a({type:"catalog/set-catalogs",payload:{catalogs:h.data}})}a((0,_.c)(!1))},eB=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/sub_categories",e,{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(ez({}))}},eE=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.delete("/sub_categories/".concat(e),{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(ez({}))}},eO=e=>async a=>{try{let{id:a,name:t,category_id:l}=e,s=localStorage.getItem("access_token");await z.Z.put("/sub_categories/".concat(a),{name:t,category_id:l},{headers:{Authorization:"Bearer "+s}})}catch(e){T(e)}finally{a(ez({}))}},eW={style:{fontSize:"16px"},disableUnderline:!0};function eK(){var e;let a=(0,d.v9)(e=>e.CatalogReducer.catalogs),t=(0,d.v9)(e=>e.SubCategoryReducer.totalRow),n=(0,d.v9)(e=>e.CategoryReducer.categories),i=(0,d.v9)(e=>e.SubCategoryReducer.sub_categories),[r,c]=(0,s.useState)({name:"",category_id:""}),[o,u]=(0,s.useState)({id:0,name:"",category_id:""}),[m,x]=(0,s.useState)(!0),[p,y]=(0,s.useState)(!0),[N,w]=(0,s.useState)(!1),[_,S]=(0,s.useState)(!1),[k,A]=(0,s.useState)(),[P,I]=(0,s.useState)(["Pilih Kategori"]),R=(0,s.useRef)([]),[z,B]=(0,s.useState)(["Pilih Katalog"]),E=(0,s.useRef)([]),O=(0,s.useRef)(""),[W,K]=(0,s.useState)(25),[T,H]=(0,s.useState)(0),M=(0,h.T)();(0,s.useEffect)(()=>{r.name?x(!1):x(!0)},[r]),(0,s.useEffect)(()=>{var e;c({...r,category_id:(null===(e=n[0])||void 0===e?void 0:e.id)||""})},[n]),(0,s.useEffect)(()=>{o.name?y(!1):y(!0)},[o]),(0,s.useEffect)(()=>{M(ez({limit:W,offset:T*W}))},[]),(0,s.useEffect)(()=>{eg()},[W,T]);let J=()=>{w(!1),c({name:"",category_id:n[0].id}),x(!0)},Y=e=>{e.preventDefault(),M(eB(r)),J()},ei=async e=>{C({icon:"question",text:"APA KAMU YAKIN INGIN MENGHAPUS ".concat(e.name,"?"),action:()=>M(eE(e.id))})},er=()=>{var e;S(!1),u({id:0,name:"",category_id:(null===(e=n[0])||void 0===e?void 0:e.id)||""}),y(!0)},ec=e=>{u({...e,category_id:e.category.id}),S(!0)},eo=e=>{e.preventDefault(),M(eO(o)),er()},eh=e=>{O.current=e,clearTimeout(k);let a=setTimeout(()=>{eg()},1e3);A(a)},em=e=>{let t=a.find(a=>a.id===e[e.length-1]),l=E.current.indexOf(t.id),s=z.indexOf(t.name),n=[],i=[];i=-1===l?[...E.current,t.id]:E.current.filter((e,a)=>a!==l),n=-1===s?[...z,t.name]:z.filter((e,a)=>a!==s),0!==i.length&&n.includes("Pilih Katalog")?n.shift():0===i.length&&n.push("Pilih Katalog"),B(n),E.current=i,eg()},ex=e=>{let a=n.find(a=>a.id===e[e.length-1]),t=R.current.indexOf(a.id),l=P.indexOf(a.name),s=[],i=[];i=-1===t?[...R.current,a.id]:R.current.filter((e,a)=>a!==t),s=-1===l?[...P,a.name]:P.filter((e,a)=>a!==l),0!==i.length&&s.includes("Pilih Kategori")?s.shift():0===i.length&&s.push("Pilih Kategori"),I(s),R.current=i,eg()},eg=()=>{let e=T*W;e>=t&&(e=0),M(ez({name:O.current,catalogIds:E.current,categoryIds:R.current,limit:W,offset:e}))},ep=e=>{var a;return null===(a=n.find(a=>a.id===e))||void 0===a?void 0:a.catalog.name};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:()=>w(!0),children:"Buat Sub Kategori Baru"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsxs)("div",{className:"filter-group mb-50",children:[(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Nama"})}),(0,l.jsx)(v.Z,{placeholder:"Nama Sub Kategori",variant:"outlined",size:"small",fullWidth:!0,value:O.current,onChange:e=>eh(e.target.value)})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Katalog"})}),(0,l.jsx)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:z,variant:"outlined",size:"small",onChange:e=>em(e.target.value),fullWidth:!0,multiple:!0,children:a.map((e,a)=>(0,l.jsxs)(ea.Z,{value:e.id,children:[(0,l.jsx)(D.Z,{size:"small",checked:E.current.includes(e.id)}),(0,l.jsx)(el.Z,{primary:e.name})]}))})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Kategori"})}),(0,l.jsx)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:P,variant:"outlined",size:"small",onChange:e=>ex(e.target.value),fullWidth:!0,multiple:!0,children:n.map((e,a)=>(0,l.jsxs)(ea.Z,{value:e.id,children:[(0,l.jsx)(D.Z,{size:"small",checked:R.current.includes(e.id)}),(0,l.jsx)(el.Z,{primary:e.name})]}))})]})})]}),i.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"5%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",width:"30%",children:"Nama"}),(0,l.jsx)(X.Z,{align:"left",width:"25%",children:"Kategori"}),(0,l.jsx)(X.Z,{align:"left",width:"25%",children:"Katalog"}),(0,l.jsx)(X.Z,{align:"center",width:"15%",children:"Action"})]})}),(0,l.jsx)($.Z,{children:i.map((e,a)=>(0,l.jsxs)(Q.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(X.Z,{align:"center",children:a+1+T*W}),(0,l.jsx)(X.Z,{align:"left",children:e.name}),(0,l.jsx)(X.Z,{align:"left",children:e.category.name}),(0,l.jsx)(X.Z,{align:"left",children:e.category.catalog.name}),(0,l.jsxs)(X.Z,{align:"center",children:[(0,l.jsx)(eu.Z,{title:"Edit",children:(0,l.jsx)(U.Z,{onClick:()=>ec(e),children:(0,l.jsx)(ej.Z,{fontSize:"small"})})}),(0,l.jsx)(eu.Z,{title:"Hapus",children:(0,l.jsx)(U.Z,{onClick:()=>ei(e),children:(0,l.jsx)(L.Z,{fontSize:"small"})})})]})]},e.id))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[1,25,50,100],component:"div",count:t,rowsPerPage:W,page:T,onPageChange:(e,a)=>{H(a)},onRowsPerPageChange:e=>{K(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]}),(0,l.jsxs)(j.Z,{open:N,onClose:J,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(f.Z,{id:"form-dialog-title",children:"Buat Sub Kategori Baru"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eW},variant:"standard",value:r.name,onChange:e=>c({...r,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Katalog",type:"text",InputProps:{...eW},variant:"standard",value:ep(r.category_id),fullWidth:!0,className:"mb-5 mt-5",disabled:!0}),(0,l.jsxs)(es.Z,{fullWidth:!0,className:"mb-5 mt-5",variant:"standard",children:[(0,l.jsx)(en.Z,{className:"mb-5 mt-5",children:"Kategori"}),(0,l.jsx)(ee.Z,{style:{textAlign:"left"},value:r.category_id||(null===(e=n[0])||void 0===e?void 0:e.id),label:"Kategori",variant:"standard",disableUnderline:!0,onChange:e=>c({...r,category_id:e.target.value}),fullWidth:!0,children:n.map((e,a)=>(0,l.jsx)(ea.Z,{value:e.id,children:e.name}))})]})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:Y,color:"primary",disabled:m,children:"Tambahkan"})})]}),(0,l.jsxs)(j.Z,{open:_,onClose:er,children:[(0,l.jsx)(f.Z,{children:"Edit Sub Category"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eW},variant:"standard",value:o.name,onChange:e=>u({...o,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Katalog",type:"text",InputProps:{...eW},variant:"standard",value:ep(o.category_id),fullWidth:!0,className:"mb-5 mt-5",disabled:!0}),(0,l.jsxs)(es.Z,{fullWidth:!0,className:"mb-5 mt-5",variant:"standard",children:[(0,l.jsx)(en.Z,{className:"mb-5 mt-5",children:"Kategori"}),(0,l.jsx)(ee.Z,{style:{textAlign:"left"},value:o.category_id,label:"Kategori",variant:"standard",disableUnderline:!0,onChange:e=>u({...o,category_id:e.target.value}),fullWidth:!0,children:n.map((e,a)=>(0,l.jsx)(ea.Z,{value:e.id,children:e.name}))})]})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:eo,color:"primary",disabled:p,children:"Simpan"})})]})]})}let eT=e=>async a=>{a((0,_.c)(!0));let{keywords:t,limit:l,offset:s}=e,n="/racks?limit=".concat(l||25,"&offset=").concat(s||0);t&&(n+="&keywords=".concat(t));let i=localStorage.getItem("access_token"),{data:r}=await z.Z.get(n,{headers:{Authorization:"Bearer "+i}});if(r){var c;a({type:"rack/set-racks",payload:{racks:r.data,totalRow:(null===(c=r.data[0])||void 0===c?void 0:c.total_row)||0}})}a((0,_.c)(!1))},eD=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/racks",e,{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(eT({}))}},eU=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.delete("/racks/".concat(e),{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(eT({}))}},eH=e=>async a=>{try{let{id:a,name:t,storage_number:l}=e,s=localStorage.getItem("access_token");await z.Z.put("/racks/".concat(a),{name:t,storage_number:l},{headers:{Authorization:"Bearer "+s}})}catch(e){T(e)}finally{a(eT({}))}},eM={style:{fontSize:"16px"},disableUnderline:!0};function eL(){let e=(0,d.v9)(e=>e.RackReducer.racks),a=(0,d.v9)(e=>e.RackReducer.totalRow),[t,n]=(0,s.useState)({name:"",storage_number:0}),[i,r]=(0,s.useState)({id:"",name:"",storage_number:0}),[c,o]=(0,s.useState)(!0),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!1),[y,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(),S=(0,s.useRef)(""),[k,A]=(0,s.useState)(25),[P,I]=(0,s.useState)(0),R=(0,h.T)();(0,s.useEffect)(()=>{t?o(!1):o(!0)},[t]),(0,s.useEffect)(()=>{i.name?m(!1):m(!0)},[i]),(0,s.useEffect)(()=>{R(eT({limit:k,offset:P*k}))},[]),(0,s.useEffect)(()=>{D()},[k,P]);let z=()=>{p(!1),n({name:"",storage_number:0}),o(!0)},B=e=>{e.preventDefault(),R(eD(t)),z()},E=async e=>{C({icon:"question",text:"APAKAH KAMU YAKIN INGIN MENGHAPUS RAK ".concat(e.name,"?"),action:()=>R(eU(e.id))})},O=()=>{N(!1),r({id:"",name:"",storage_number:0}),m(!0)},W=e=>{r(e),N(!0)},K=e=>{e.preventDefault(),R(eH(i)),O()},T=e=>{S.current=e,clearTimeout(w);let a=setTimeout(()=>{D()},1e3);_(a)},D=()=>{let e=P*k;e>=a&&(e=0),R(eT({keywords:S.current,limit:k,offset:e}))};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:()=>p(!0),children:"Buat Rak Baru"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsx)("div",{className:"filter-group mb-50",children:(0,l.jsx)("div",{className:"width-40",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Name"})}),(0,l.jsx)(v.Z,{placeholder:"Nama Rak atau Nomor Lemari",variant:"outlined",size:"small",fullWidth:!0,value:S.current,onChange:e=>T(e.target.value)})]})})}),e.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",width:"50%",children:"Nama"}),(0,l.jsx)(X.Z,{align:"left",children:"Nomor Lemari"}),(0,l.jsx)(X.Z,{align:"center",width:"20%",children:"Action"})]})}),(0,l.jsx)($.Z,{children:e.map((e,a)=>(0,l.jsxs)(Q.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:a+1+P*k}),(0,l.jsx)(X.Z,{align:"left",children:e.name}),(0,l.jsx)(X.Z,{align:"left",children:e.storage_number}),(0,l.jsxs)(X.Z,{align:"center",width:"20%",children:[(0,l.jsx)(eu.Z,{title:"Edit",children:(0,l.jsx)(U.Z,{onClick:()=>W(e),children:(0,l.jsx)(ej.Z,{fontSize:"small"})})}),(0,l.jsx)(eu.Z,{title:"Hapus",children:(0,l.jsx)(U.Z,{onClick:()=>E(e),children:(0,l.jsx)(L.Z,{fontSize:"small"})})})]})]},e.id))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:a,rowsPerPage:k,page:P,onPageChange:(e,a)=>{I(a)},onRowsPerPageChange:e=>{A(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]}),(0,l.jsxs)(j.Z,{open:x,onClose:z,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(f.Z,{id:"form-dialog-title",children:"Buat Rak Baru"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eM},variant:"standard",value:t.name,onChange:e=>n({...t,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Nomor Lemari",type:"number",InputProps:{...eM,inputProps:{min:0}},variant:"standard",value:t.storage_number,onChange:e=>n({...t,storage_number:+e.target.value}),fullWidth:!0,className:"mb-5 mt-5"})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:B,color:"primary",disabled:c,children:"Tambahkan"})})]}),(0,l.jsxs)(j.Z,{open:y,onClose:O,children:[(0,l.jsx)(f.Z,{children:"Edit Rak"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama",type:"text",InputProps:{...eM},variant:"standard",value:i.name,onChange:e=>r({...i,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Nomor Lemari",type:"number",InputProps:{...eM,inputProps:{min:0}},variant:"standard",value:i.storage_number,onChange:e=>r({...i,storage_number:+e.target.value}),fullWidth:!0,className:"mb-5 mt-5"})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:K,color:"primary",disabled:u,children:"Simpan"})})]})]})}var eJ=t(7922),eY=t(7357),eG=t(5861),eq=t(8678),eF=t(5578),eV=t(6486),eQ=t.n(eV);let eX=e=>async a=>{a((0,_.c)(!0));let{keywords:t,limit:l,offset:s}=e,n="/suppliers?limit=".concat(l||25,"&offset=").concat(s||0);t&&(n+="&keywords=".concat(t));let i=localStorage.getItem("access_token"),{data:r}=await z.Z.get(n,{headers:{Authorization:"Bearer "+i}});if(r){var c;a({type:"supplier/set-suppliers",payload:{suppliers:r.data,totalRow:(null===(c=r.data[0])||void 0===c?void 0:c.total_row)||0}})}a((0,_.c)(!1))},e$=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.post("/suppliers",e,{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(eX({}))}},e0=e=>async a=>{try{let a=localStorage.getItem("access_token");await z.Z.delete("/suppliers/".concat(e),{headers:{Authorization:"Bearer "+a}})}catch(e){T(e)}finally{a(eX({}))}},e1=e=>async a=>{try{let a=e.id,t=localStorage.getItem("access_token");await z.Z.put("/suppliers/".concat(a),eQ().omit(e,["id","created_at","total_row"]),{headers:{Authorization:"Bearer "+t}})}catch(e){T(e)}finally{a(eX({}))}},e5={name:"",account_name:"",account_number:"",address:"",bank_name:"",contact_info:"",contact_person:"",notes:""},e2={style:{fontSize:"16px"},disableUnderline:!0};function e3(){let e=(0,d.v9)(e=>e.SupplierReducer.suppliers),a=(0,d.v9)(e=>e.SupplierReducer.totalRow),[t,n]=(0,s.useState)(e5),[i,r]=(0,s.useState)({...e5,id:""}),[c,o]=(0,s.useState)(-1),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!0),[y,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[S,k]=(0,s.useState)(),A=(0,s.useRef)(""),[P,I]=(0,s.useState)(0),[R,z]=(0,s.useState)(25),[B,E]=(0,s.useState)(0),O=(0,h.T)();(0,s.useEffect)(()=>{let e=!0;for(let a in t)"address"===a||t[a]||(e=!1);m(!e)},[t]),(0,s.useEffect)(()=>{let e=!0;for(let a in i)"address"===a||"id"===a||i[a]||(e=!1);p(!e)},[i]),(0,s.useEffect)(()=>{O(eX({limit:R,offset:B*R}))},[]),(0,s.useEffect)(()=>{Y()},[R,B]);let W=()=>{N(!1),n(e5),m(!0)},K=e=>{e.preventDefault(),O(e$(t)),W()},T=async e=>{C({icon:"question",text:"ARE YOU SURE WANT TO DELETE ".concat(e.name,"?"),action:()=>O(e0(e.id))})},D=()=>{_(!1),r({...e5,id:""}),p(!0)},H=e=>{r(e),_(!0)},M=e=>{e.preventDefault(),O(e1(i)),D()},J=e=>{A.current=e,clearTimeout(S);let a=setTimeout(()=>{Y()},1e3);k(a)},Y=()=>{let e=B*R;e>=a&&(e=0),O(eX({keywords:A.current,limit:R,offset:e}))},ee=e=>{c===e?o(-1):o(e)},ea=e=>e===c?(0,l.jsx)(eu.Z,{title:"Tutup",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),ee(e)},children:(0,l.jsx)(eq.Z,{fontSize:"small"})})}):(0,l.jsx)(eu.Z,{title:"Buka",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),ee(e)},children:(0,l.jsx)(eF.Z,{fontSize:"small"})})});return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:()=>N(!0),children:"Buat Supplier Baru"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsx)("div",{className:"filter-group mb-50",children:(0,l.jsx)("div",{className:"width-40",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Kata Kunci"})}),(0,l.jsx)(v.Z,{placeholder:"Masukkan Kata Kunci",variant:"outlined",size:"small",fullWidth:!0,value:A.current,onChange:e=>J(e.target.value)})]})})}),e.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",width:"30%",children:"Nama"}),(0,l.jsx)(X.Z,{align:"left",width:"20%",children:"Whatsapp/Email"}),(0,l.jsx)(X.Z,{align:"center",width:"20%",children:"Action"})]})}),(0,l.jsx)($.Z,{children:e.map((e,a)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(Q.Z,{sx:{"& > *":{borderBottom:"unset !important"}},onMouseOver:()=>I(a+1),onMouseOut:()=>I(0),onClick:()=>{ee(a)},className:P===a+1?"table-row-hover":"",children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:a+1+B*R}),(0,l.jsx)(X.Z,{align:"left",children:e.name}),(0,l.jsx)(X.Z,{align:"left",children:e.contact_info}),(0,l.jsxs)(X.Z,{align:"center",children:[(0,l.jsx)(eu.Z,{title:"Edit",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),H(e)},children:(0,l.jsx)(ej.Z,{fontSize:"small"})})}),(0,l.jsx)(eu.Z,{title:"Hapus",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),T(e)},children:(0,l.jsx)(L.Z,{fontSize:"small"})})}),ea(a)]})]},e.id),(0,l.jsxs)(Q.Z,{className:P===a+1?"table-row-hover":"",onMouseOver:()=>I(a+1),onMouseOut:()=>I(0),children:[(0,l.jsx)(X.Z,{className:"p-0"}),(0,l.jsx)(X.Z,{align:"left",colSpan:2,className:"p-0",children:(0,l.jsx)(eJ.Z,{in:c===a,timeout:"auto",unmountOnExit:!0,children:(0,l.jsxs)(eY.Z,{className:"ml-20",children:[(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Nama"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:e.name})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Alamat"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.address})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"PIC"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.contact_person})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Whatsapp/Email"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.contact_info})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Nomor Rekening"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.account_number})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Nama Rekening"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.account_name})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Bank"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.bank_name})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Keterangan"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-75 ml-10",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.notes||"-"})})]})]})})}),(0,l.jsx)(X.Z,{className:"p-0"})]})]}))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:a,rowsPerPage:R,page:B,onPageChange:(e,a)=>{E(a)},onRowsPerPageChange:e=>{z(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]}),(0,l.jsxs)(j.Z,{open:y,onClose:W,"aria-labelledby":"form-dialog-title",children:[(0,l.jsx)(f.Z,{id:"form-dialog-title",children:"Buat Supplier Baru"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama *",type:"text",InputProps:{...e2},variant:"standard",value:t.name,onChange:e=>n({...t,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Alamat",type:"text",InputProps:{...e2},variant:"standard",value:t.address,onChange:e=>n({...t,address:e.target.value}),fullWidth:!0,className:"mb-5 mt-5",multiline:!0,rows:4}),(0,l.jsx)(v.Z,{margin:"dense",label:"Person In Charge *",type:"text",InputProps:{...e2},variant:"standard",value:t.contact_person,onChange:e=>n({...t,contact_person:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Whatsapp/Email *",type:"text",InputProps:{...e2},variant:"standard",value:t.contact_info,onChange:e=>n({...t,contact_info:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Nomor Rekening *",type:"text",InputProps:{...e2},variant:"standard",value:t.account_number,onChange:e=>n({...t,account_number:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Nama Rekening *",type:"text",InputProps:{...e2},variant:"standard",value:t.account_name,onChange:e=>n({...t,account_name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Bank *",type:"text",InputProps:{...e2},variant:"standard",value:t.bank_name,onChange:e=>n({...t,bank_name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Keterangan",type:"text",InputProps:{...e2},variant:"standard",value:t.notes,onChange:e=>n({...t,notes:e.target.value}),fullWidth:!0,className:"mb-5 mt-5",multiline:!0,rows:4})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:K,color:"primary",disabled:u,children:"Tambahkan"})})]}),(0,l.jsxs)(j.Z,{open:w,onClose:D,children:[(0,l.jsx)(f.Z,{children:"Edit Supplier"}),(0,l.jsxs)(Z.Z,{style:{width:"300px",margin:"auto",textAlign:"center"},children:[(0,l.jsx)(v.Z,{margin:"dense",label:"Nama *",type:"text",InputProps:{...e2},variant:"standard",value:i.name,onChange:e=>r({...i,name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Alamat",type:"text",InputProps:{...e2},variant:"standard",value:i.address,onChange:e=>r({...i,address:e.target.value}),fullWidth:!0,className:"mb-5 mt-5",multiline:!0,rows:4}),(0,l.jsx)(v.Z,{margin:"dense",label:"Person In Charge *",type:"text",InputProps:{...e2},variant:"standard",value:i.contact_person,onChange:e=>r({...i,contact_person:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Whatsapp/Email *",type:"text",InputProps:{...e2},variant:"standard",value:i.contact_info,onChange:e=>r({...i,contact_info:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Nomor Rekening *",type:"text",InputProps:{...e2},variant:"standard",value:i.account_number,onChange:e=>r({...i,account_number:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Nama Rekening *",type:"text",InputProps:{...e2},variant:"standard",value:i.account_name,onChange:e=>r({...i,account_name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Bank *",type:"text",InputProps:{...e2},variant:"standard",value:i.bank_name,onChange:e=>r({...i,bank_name:e.target.value}),fullWidth:!0,className:"mb-5 mt-5"}),(0,l.jsx)(v.Z,{margin:"dense",label:"Keterangan",type:"text",InputProps:{...e2},variant:"standard",value:i.notes,onChange:e=>r({...i,notes:e.target.value}),fullWidth:!0,className:"mb-5 mt-5",multiline:!0,rows:4})]}),(0,l.jsx)(b.Z,{children:(0,l.jsx)(g.Z,{onClick:M,color:"primary",disabled:x,children:"Simpan"})})]})]})}var e8=t(8999),e6=t(6804),e9=t(4784),e4=t(5299);let e7=e=>async a=>{a((0,_.c)(!0));let{keywords:t,limit:l,offset:s,supplierIds:n,paid:i,orderBy:r}=e,c="/supplies?limit=".concat(l||25,"&offset=").concat(s||0);t&&(c+="&keywords=".concat(t)),(null==n?void 0:n.length)&&(c+="&supplier_id=".concat(JSON.stringify(n))),(null==i?void 0:i.length)&&(c+="&paid=".concat(JSON.stringify(i))),(null==r?void 0:r.length)&&(c+="&order_by=".concat(JSON.stringify(r)));let d=localStorage.getItem("access_token"),{data:o}=await z.Z.get(c,{headers:{Authorization:"Bearer "+d}}),{data:h}=await z.Z.get("supplies/all-suppliers",{headers:{Authorization:"Bearer "+d}}),{data:u}=await z.Z.get("supplies/all-racks",{headers:{Authorization:"Bearer "+d}}),{data:m}=await z.Z.get("supplies/all-sub-categories",{headers:{Authorization:"Bearer "+d}});if(o&&h&&u&&m){var x,g,p,j;a({type:"supply/set-supplies",payload:{supplies:o.data,totalRow:(null===(x=o.data[0])||void 0===x?void 0:x.total_row)||0}}),a({type:"supplier/set-suppliers",payload:{suppliers:h.data,totalRow:(null===(g=h.data[0])||void 0===g?void 0:g.total_row)||0}}),a({type:"rack/set-racks",payload:{racks:u.data,totalRow:(null===(p=u.data[0])||void 0===p?void 0:p.total_row)||0}}),a({type:"sub_category/set-sub_categories",payload:{sub_categories:m.data,totalRow:(null===(j=m.data[0])||void 0===j?void 0:j.total_row)||0}})}a((0,_.c)(!1))},ae=e=>async a=>{try{let t=localStorage.getItem("access_token");await z.Z.post("/supplies",e,{headers:{Authorization:"Bearer "+t}}),a((0,_.c)(!0)),a(e7({})),a((0,_.L)("supplies")),a((0,_.c)(!1))}catch(e){T(e)}},aa=e=>async a=>{try{let a=e.id,t=localStorage.getItem("access_token");await z.Z.put("/supplies/".concat(a),eQ().omit(e,["id","created_at","total_row"]),{headers:{Authorization:"Bearer "+t}})}catch(e){T(e)}finally{a(e7({}))}};function at(){let e=(0,d.v9)(e=>e.SupplyReducer.supplies),a=(0,d.v9)(e=>e.SupplierReducer.suppliers),t=(0,d.v9)(e=>e.SupplyReducer.totalRow),[n,i]=(0,s.useState)(-1),[r,c]=(0,s.useState)(),o=(0,s.useRef)(""),[u,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(0),[j,f]=(0,s.useState)(25),[Z,b]=(0,s.useState)(0),[y,N]=(0,s.useState)(["Pilih Supplier"]),w=(0,s.useRef)([]),[S,k]=(0,s.useState)(["Tidak Ada Yang Dipilih"]),A=(0,s.useRef)([]),P=(0,h.T)();(0,s.useEffect)(()=>{P(e7({limit:j,offset:Z*j}))},[]),(0,s.useEffect)(()=>{B()},[j,Z]),(0,s.useEffect)(()=>{u?B([["due_date",u]]):B()},[u]);let I=e=>{let t=a.find(a=>a.id===e[e.length-1]),l=w.current.indexOf(t.id),s=y.indexOf(t.name),n=[],i=[];i=-1===l?[...w.current,t.id]:w.current.filter((e,a)=>a!==l),n=-1===s?[...y,t.name]:y.filter((e,a)=>a!==s),0!==i.length&&n.includes("Pilih Supplier")?n.shift():0===i.length&&n.push("Pilih Supplier"),N(n),w.current=i,B()},R=e=>{let a={true:"LUNAS",false:"BELUM LUNAS"},t="true"===e[e.length-1],l=String(t),s=A.current.indexOf(t),n=S.indexOf(a[l]),i=[],r=[];r=-1===s?[...A.current,t]:A.current.filter((e,a)=>a!==s),i=-1===n?[...S,a[l]]:S.filter((e,a)=>a!==n),0!==r.length&&i.includes("Tidak Ada Yang Dipilih")?i.shift():0===r.length&&i.push("Tidak Ada Yang Dipilih"),k(i),A.current=r,B()},z=e=>{o.current=e,clearTimeout(r);let a=setTimeout(()=>{B()},1e3);c(a)},B=e=>{let a=Z*j;a>=t&&(a=0),P(e7({keywords:o.current,limit:j,offset:Z*j,supplierIds:w.current,paid:A.current,orderBy:e}))},E=e=>{n===e?i(-1):i(e)},O=e=>e===n?(0,l.jsx)(eu.Z,{title:"Tutup",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),E(e)},children:(0,l.jsx)(eq.Z,{fontSize:"small"})})}):(0,l.jsx)(eu.Z,{title:"Buka",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),E(e)},children:(0,l.jsx)(eF.Z,{fontSize:"small"})})}),W=()=>P((0,_.L)("create-supply")),K=e=>{let a=e=>e<10?"0".concat(e):"".concat(e),t=new Date(e),l=t.getDate(),s=t.getMonth(),n=t.getFullYear();return"".concat(a(l),"/").concat(a(s+1),"/").concat(n)},T=(e,a)=>{let t=[(0,l.jsx)(eG.Z,{variant:"caption",children:e.unique_id})];return a&&t.push((0,l.jsx)(eu.Z,{title:a,arrow:!0,sx:{["& .".concat(e8.Z.tooltip)]:{maxWidth:"none"}},children:(0,l.jsx)(e6.Z,{style:{fontSize:"14px",marginLeft:"5px"}})})),(0,l.jsxs)(eY.Z,{className:"d-flex mt-2 align-items-center justify-content-between",width:"60%",children:[(0,l.jsx)(eY.Z,{width:"35%",className:"d-flex align-items-center",children:t}),(0,l.jsxs)(eY.Z,{width:"25%",className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:L(e.buying_price)}),(0,l.jsx)(eG.Z,{variant:"caption",children:"x"})]}),(0,l.jsx)(eY.Z,{width:"15%",className:"flex-center",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.stock})}),(0,l.jsxs)(eY.Z,{width:"25%",children:[(0,l.jsx)(eG.Z,{variant:"caption",className:"mr-10",children:"="}),(0,l.jsx)(eG.Z,{variant:"caption",children:L(e.buying_price*e.stock)})]})]})},H=e=>{C({icon:"question",html:"Ubah status pembayaran invoice ".concat(e.invoice_number," menjadi lunas?<br/>Status pembayaran tidak dapat diubah lagi."),action(){P(aa({id:e.id,is_paid:!0}))}})},M=e=>e.is_paid?(0,l.jsx)(l.Fragment,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"No. Rekening"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.supplier.account_number})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Bank"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.supplier.bank_name})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"PIC"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsxs)(eG.Z,{variant:"caption",children:[e.supplier.contact_info," (",e.supplier.contact_person,")"]})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Catatan"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.supplier.notes||"-"})})]}),(0,l.jsx)(eY.Z,{className:"d-flex flex-row-reverse",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",sx:{height:"14px"},onClick:()=>H(e),children:(0,l.jsx)(eG.Z,{sx:{fontSize:"8px !important"},children:"Bayar"})})})]}),L=e=>"Rp. ".concat(e.toLocaleString("id")),J=()=>{switch(u){case"":m("ASC");break;case"ASC":m("DESC");break;case"DESC":m("")}};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:W,children:"Buat Supply Baru"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsxs)("div",{className:"filter-group mb-50",children:[(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Invoice"})}),(0,l.jsx)(v.Z,{placeholder:"Masukkan Invoice",variant:"outlined",size:"small",fullWidth:!0,value:o.current,onChange:e=>z(e.target.value)})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Supplier"})}),(0,l.jsx)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:y,variant:"outlined",size:"small",onChange:e=>I(e.target.value),fullWidth:!0,multiple:!0,children:a.map((e,a)=>(0,l.jsxs)(ea.Z,{value:e.id,children:[(0,l.jsx)(D.Z,{size:"small",checked:w.current.includes(e.id)}),(0,l.jsx)(el.Z,{primary:e.name})]}))})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Status"})}),(0,l.jsxs)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:S,variant:"outlined",size:"small",onChange:e=>R(e.target.value),fullWidth:!0,multiple:!0,children:[(0,l.jsxs)(ea.Z,{value:"true",children:[(0,l.jsx)(D.Z,{size:"small",checked:A.current.includes(!0)}),(0,l.jsx)(el.Z,{primary:"LUNAS"})]}),(0,l.jsxs)(ea.Z,{value:"false",children:[(0,l.jsx)(D.Z,{size:"small",checked:A.current.includes(!1)}),(0,l.jsx)(el.Z,{primary:"BELUM LUNAS"})]})]})]})})]}),e.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"5%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",width:"20%",children:"Invoice"}),(0,l.jsx)(X.Z,{align:"left",width:"25%",children:"Supplier"}),(0,l.jsx)(X.Z,{align:"center",width:"25%",children:"Status"}),(0,l.jsx)(X.Z,{align:"center",width:"20%",children:(0,l.jsxs)(eY.Z,{sx:{display:"flex",alignItems:"center"},children:["Jatuh Tempo",u?(0,l.jsx)(e4.Z,{className:"btn-sort ".concat("ASC"===u?"up":"down"),onClick:J}):(0,l.jsx)(e9.Z,{className:"btn-sort",onClick:J})]})}),(0,l.jsx)(X.Z,{align:"center",width:"5%"})]})}),(0,l.jsx)($.Z,{children:e.map((e,a)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(Q.Z,{sx:{"& > *":{borderBottom:"unset !important"}},onMouseOver:()=>p(a+1),onMouseOut:()=>p(0),onClick:()=>{E(a)},className:x===a+1?"table-row-hover":"",children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:a+1+Z*j}),(0,l.jsx)(X.Z,{align:"left",children:e.invoice_number}),(0,l.jsx)(X.Z,{align:"left",children:e.supplier.name}),(0,l.jsx)(X.Z,{align:"center",children:e.is_paid?"LUNAS":"BELUM LUNAS"}),(0,l.jsx)(X.Z,{align:"center",children:K(e.due_date)}),(0,l.jsx)(X.Z,{align:"center",children:O(a)})]},e.id),(0,l.jsxs)(Q.Z,{className:x===a+1?"table-row-hover":"",onMouseOver:()=>p(a+1),onMouseOut:()=>p(0),children:[(0,l.jsx)(X.Z,{className:"p-0"}),(0,l.jsx)(X.Z,{align:"left",colSpan:4,className:"p-0",children:(0,l.jsx)(eJ.Z,{in:n===a,timeout:"auto",unmountOnExit:!0,children:(0,l.jsxs)(eY.Z,{className:"ml-40 mb-15",children:[(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Tanggal Masuk"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:K(e.issued_date)})})]}),(0,l.jsx)(eY.Z,{className:"d-flex flex-space-between",children:(0,l.jsx)(eY.Z,{className:"width-25",children:(0,l.jsx)(eY.Z,{className:"d-flex flex-space-between",children:(0,l.jsx)(eG.Z,{variant:"caption",children:(0,l.jsx)("span",{style:{fontWeight:"bold"},children:"Barang"})})})})}),(0,l.jsx)(eY.Z,{className:"d-flex flex-column flex-space-between ml-15",children:e.json_data.map((a,t)=>T(a,e.items[t].description||a.description||""))}),(0,l.jsx)(eY.Z,{className:"d-flex flex-end ml-15 mb-5 mt-5",width:"60%",children:(0,l.jsx)(eY.Z,{sx:{backgroundColor:"black",height:"1px"},width:"65%"})}),(0,l.jsx)(eY.Z,{className:"d-flex flex-end mb-5 mt-5 pr-50",width:"60%",children:(0,l.jsx)(eG.Z,{variant:"caption",children:(0,l.jsx)("span",{style:{fontWeight:"bold"},children:L(e.total_price)})})}),M(e)]})})}),(0,l.jsx)(X.Z,{className:"p-0"})]})]}))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:t,rowsPerPage:j,page:Z,onPageChange:(e,a)=>{b(a)},onRowsPerPageChange:e=>{f(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]})]})}var al=t(7333),as=t(4371),an=t(3773),ai=t.n(an),ar=t(509),ac=t(7484),ad=t.n(ac);let ao=e=>Array.isArray(e)?e.map(e=>ai()[e]||e).join(" "):ai()[e]||e,ah=e=>(e.get("h")>=17&&(e=e.add(1,"days")),["hour","minute","second"].forEach(a=>{e=e.set(a,0)}),e);function au(){let e=(0,h.T)(),a=(0,d.v9)(e=>e.SupplierReducer.suppliers),t=(0,d.v9)(e=>e.RackReducer.racks),n=(0,d.v9)(e=>e.SubCategoryReducer.sub_categories),[i,r]=(0,s.useState)({supplier_id:"",invoice_number:"",due_date:ah(ad()().add(7,"days")),issued_date:ah(ad()()),is_paid:!1}),[c,o]=(0,s.useState)([]),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!1),[j,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{var e;r({...i,supplier_id:(null===(e=a[0])||void 0===e?void 0:e.id)||""})},[a]),(0,s.useEffect)(()=>{let{invoice_number:e,supplier_id:a}=i;p(!!(e&&a))},[i]),(0,s.useEffect)(()=>{m(!x||!j||0===c.length)},[x,j,c.length]);let Z=async e=>{let a=JSON.parse(JSON.stringify(e)),t=!0,l=e=>e<10?"0".concat(e):"".concat(e),s=i.issued_date.get("months")+1,n=String(i.issued_date.get("years")),r="".concat(l(s)).concat(n[2]).concat(n[3]),c={};a.forEach(e=>{if(e.sub_category_id){let a=l(e.sub_category_id);c[a]||(c[a]=1);let t=l(c[a]);c[a]++,e.unique_id="".concat(a).concat(t).concat(r)}else e.unique_id="";""===e.unique_id&&(t=!1)}),o(a),f(t)};(0,s.useEffect)(()=>{Z(c)},[c.length,i.issued_date]);let b=a=>{a.preventDefault(),C({icon:"question",title:"Ingin meninggalkan halaman buat supply baru?",text:"Semua perubahan tidak akan tersimpan",action:()=>e((0,_.L)("supplies"))})},y=()=>{let{issued_date:a,due_date:t}=i,l={...i,issued_date:"".concat(a.get("years"),"-").concat(a.get("months")+1,"-").concat(a.get("dates")," 00:00:00"),due_date:"".concat(t.get("years"),"-").concat(t.get("months")+1,"-").concat(t.get("dates")," 23:59:59"),items:c};C({action:()=>e(ae(l)),title:"Buat Supply Baru?",text:"Data yang sudah tersimpan tidak dapat diubah.",icon:"question"})},N=()=>{var e,a;o([...c,{unique_id:"",description:"",rack_id:null===(e=t[0])||void 0===e?void 0:e.id,sub_category_id:(null===(a=n[0])||void 0===a?void 0:a.id)||0,selling_price:0,buying_price:0,stock:1}])},w=e=>{o(c.filter((a,t)=>t!==e))},S=(e,a)=>{let t=JSON.parse(JSON.stringify(c));t[a].sub_category_id=e,Z(t)},k=(e,a)=>{let t=JSON.parse(JSON.stringify(c));t[a].rack_id=e,o(t)},A=(e,a,t)=>{let l=JSON.parse(JSON.stringify(c));l[t][e]=+a,o(l)},P=(e,a)=>{let t=JSON.parse(JSON.stringify(c));t[a].description=e,o(t)};return(0,l.jsxs)("div",{className:ao("create-supply-container"),children:[(0,l.jsxs)("div",{className:ao("title-container"),children:[(0,l.jsxs)("div",{className:ao("back-btn"),onClick:b,children:[(0,l.jsx)(as.Z,{}),(0,l.jsx)("p",{children:"BACK"})]}),(0,l.jsx)("div",{})]}),(0,l.jsx)("h2",{children:"Buat Supply Baru"}),(0,l.jsxs)("div",{className:ao("content"),children:[(0,l.jsxs)("div",{className:ao("form"),children:[(0,l.jsxs)("div",{className:ao("form-group"),children:[(0,l.jsx)("h4",{children:"Invoice"}),(0,l.jsx)("div",{className:ao("user-input"),children:(0,l.jsx)(v.Z,{className:"text-align-left",value:i.invoice_number,onChange:e=>r({...i,invoice_number:e.target.value}),placeholder:"Nomor Invoice",variant:"standard",fullWidth:!0})})]}),(0,l.jsxs)("div",{className:ao("form-group"),children:[(0,l.jsx)("h4",{children:"Supplier"}),(0,l.jsx)("div",{className:ao("user-input"),children:(0,l.jsx)(ee.Z,{className:"text-align-left",value:i.supplier_id,variant:"standard",size:"small",onChange:e=>r({...i,supplier_id:e.target.value}),fullWidth:!0,placeholder:"",children:a.map((e,a)=>(0,l.jsx)(ea.Z,{value:e.id,children:e.name}))})})]}),(0,l.jsxs)("div",{className:ao("form-group"),children:[(0,l.jsx)("h4",{children:"Tanggal Masuk"}),(0,l.jsx)("div",{className:ao("user-input"),children:(0,l.jsx)(ar.M,{format:"DD/MM/YYYY",slotProps:{textField:{variant:"standard"}},value:i.issued_date,onChange:e=>r({...i,issued_date:e}),maxDate:i.due_date})})]}),(0,l.jsxs)("div",{className:ao("form-group"),children:[(0,l.jsx)("h4",{children:"Jatuh Tempo"}),(0,l.jsx)("div",{className:ao("user-input"),children:(0,l.jsx)(ar.M,{format:"DD/MM/YYYY",slotProps:{textField:{variant:"standard"}},value:i.due_date,onChange:e=>r({...i,due_date:e}),minDate:i.issued_date})})]}),(0,l.jsxs)("div",{className:ao("form-group"),children:[(0,l.jsx)("h4",{children:"Lunas"}),(0,l.jsx)("div",{className:ao("user-input"),children:(0,l.jsx)(D.Z,{onChange:()=>r({...i,is_paid:!i.is_paid}),checked:i.is_paid})})]})]}),(0,l.jsxs)("div",{className:ao(["form-barang","mt-25"]),children:[(0,l.jsx)("h4",{children:"Barang"}),(0,l.jsx)("div",{className:ao("barang-table-container"),children:(0,l.jsxs)("div",{className:ao(["table-container","width-100","mt-10"]),children:[(0,l.jsx)(G.Z,{children:(0,l.jsx)(q.Z,{children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"5%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",width:"10%",children:"ID"}),(0,l.jsx)(X.Z,{align:"left",width:"20%",children:"Deskripsi"}),(0,l.jsx)(X.Z,{align:"center",width:"15%",children:"Rak"}),(0,l.jsx)(X.Z,{align:"center",width:"20%",children:"Sub Kategori"}),(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"Harga Beli"}),(0,l.jsx)(X.Z,{align:"center",width:"10%",children:"Harga Jual"}),(0,l.jsx)(X.Z,{align:"center",width:"5%",children:"Stok"}),(0,l.jsx)(X.Z,{align:"center",width:"5%"})]})}),(0,l.jsx)($.Z,{children:c.map((e,a)=>(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",children:a+1}),(0,l.jsx)(X.Z,{align:"left",children:e.unique_id||"INVALID"}),(0,l.jsx)(X.Z,{align:"left",children:(0,l.jsx)(v.Z,{type:"text",InputProps:{disableUnderline:!0},variant:"standard",value:e.description,onChange:e=>{P(e.target.value,a)},fullWidth:!0,className:"mb-5 mt-5",multiline:!0,rows:e.description.length>30?2:1})}),(0,l.jsx)(X.Z,{align:"center",children:(0,l.jsx)(ee.Z,{value:e.rack_id,label:"rack_id",variant:"standard",disableUnderline:!0,onChange:e=>k(e.target.value,a),fullWidth:!0,children:t.map(a=>(0,l.jsx)(ea.Z,{value:a.id,selected:e.rack_id===a.id,children:a.name}))})}),(0,l.jsx)(X.Z,{align:"center",children:(0,l.jsx)(ee.Z,{value:e.sub_category_id,label:"sub_category_id",variant:"standard",disableUnderline:!0,onChange:e=>S(+e.target.value,a),fullWidth:!0,children:n.map(a=>(0,l.jsx)(ea.Z,{value:a.id,selected:e.sub_category_id==a.id,children:a.name}))})}),(0,l.jsx)(X.Z,{align:"center",children:(0,l.jsx)(al.h3,{onKeyDown:e=>{"-"===e.key&&e.preventDefault()},className:ao("react-number-input"),min:0,size:20,value:e.buying_price,thousandSeparator:".",decimalSeparator:",",onValueChange:e=>A("buying_price",+e.value,a)})}),(0,l.jsx)(X.Z,{align:"center",children:(0,l.jsx)(al.h3,{onKeyDown:e=>{"-"===e.key&&e.preventDefault()},className:ao("react-number-input"),min:0,size:20,value:e.selling_price,thousandSeparator:".",decimalSeparator:",",onValueChange:e=>A("selling_price",+e.value,a)})}),(0,l.jsx)(X.Z,{align:"center",children:(0,l.jsx)(al.h3,{onKeyDown:e=>{"-"===e.key&&e.preventDefault()},className:ao("react-number-input"),min:1,size:20,value:e.stock,thousandSeparator:".",decimalSeparator:",",onValueChange:e=>A("stock",+e.value,a)})}),(0,l.jsx)(X.Z,{align:"left",children:(0,l.jsx)(eu.Z,{title:"Hapus",children:(0,l.jsx)(U.Z,{onClick:e=>{e.stopPropagation(),w(a)},children:(0,l.jsx)(L.Z,{fontSize:"small"})})})})]}))})]})})}),(0,l.jsx)(g.Z,{variant:"contained",className:ao(["global-btn","mt-10","mb-10"]),onClick:N,children:"Tambah Barang Baru"})]})})]})]}),(0,l.jsx)("div",{className:ao("submit-btn-container"),children:(0,l.jsx)(g.Z,{variant:"contained",className:ao(["global-btn","save-btn"]),onClick:y,disabled:u,children:"Simpan"})})]})}let am=e=>async a=>{a((0,_.c)(!0));let{keywords:t,limit:l,offset:s,supplierIds:n,subCategoryIds:i,orderBy:r}=e,c="/items?limit=".concat(l||25,"&offset=").concat(s||0);t&&(c+="&keywords=".concat(t)),(null==n?void 0:n.length)&&(c+="&supplier_id=".concat(JSON.stringify(n))),(null==i?void 0:i.length)&&(c+="&sub_category_id=".concat(JSON.stringify(i))),(null==r?void 0:r.length)&&(c+="&order_by=".concat(JSON.stringify(r)));let d=localStorage.getItem("access_token"),{data:o}=await z.Z.get(c,{headers:{Authorization:"Bearer "+d}}),{data:h}=await z.Z.get("items/all-suppliers",{headers:{Authorization:"Bearer "+d}}),{data:u}=await z.Z.get("items/all-sub-categories",{headers:{Authorization:"Bearer "+d}});if(o&&h&&u){var m,x,g;a({type:"item/set-items",payload:{items:o.data,totalRow:(null===(m=o.data[0])||void 0===m?void 0:m.total_row)||0}}),a({type:"supplier/set-suppliers",payload:{suppliers:h.data,totalRow:(null===(x=h.data[0])||void 0===x?void 0:x.total_row)||0}}),a({type:"sub_category/set-sub_categories",payload:{sub_categories:u.data,totalRow:(null===(g=u.data[0])||void 0===g?void 0:g.total_row)||0}})}a((0,_.c)(!1))},ax=e=>async a=>{try{let a=e.id,t=localStorage.getItem("access_token");await z.Z.put("/items/".concat(a),eQ().omit(e,["id","created_at","total_row"]),{headers:{Authorization:"Bearer "+t}})}catch(e){T(e)}finally{a(am({}))}};function ag(){let e=(0,d.v9)(e=>e.ItemReducer.items),a=(0,d.v9)(e=>e.SupplierReducer.suppliers),t=(0,d.v9)(e=>e.SubCategoryReducer.sub_categories),n=(0,d.v9)(e=>e.SupplyReducer.totalRow),[i,r]=(0,s.useState)(-1),[c,o]=(0,s.useState)(),u=(0,s.useRef)(""),[m,x]=(0,s.useState)(""),[p,j]=(0,s.useState)(0),[f,Z]=(0,s.useState)(25),[b,y]=(0,s.useState)(0),[N,w]=(0,s.useState)({}),[S,k]=(0,s.useState)(["Pilih Supplier"]),C=(0,s.useRef)([]),[A,P]=(0,s.useState)(["Pilih Sub Kategori"]),I=(0,s.useRef)([]),R=(0,h.T)();(0,s.useEffect)(()=>{R(am({limit:f,offset:b*f}))},[]),(0,s.useEffect)(()=>{O()},[f,b]),(0,s.useEffect)(()=>{let a={};e.forEach(e=>a[e.id]=e.description||"-"),w(a)},[e]),(0,s.useEffect)(()=>{m?O([["supply.issued_date",m]]):O()},[m]);let z=e=>{let t=a.find(a=>a.id===e[e.length-1]),l=C.current.indexOf(t.id),s=S.indexOf(t.name),n=[],i=[];i=-1===l?[...C.current,t.id]:C.current.filter((e,a)=>a!==l),n=-1===s?[...S,t.name]:S.filter((e,a)=>a!==s),0!==i.length&&n.includes("Pilih Supplier")?n.shift():0===i.length&&n.push("Pilih Supplier"),k(n),C.current=i,O()},B=e=>{let a=t.find(a=>+a.id==+e[e.length-1]),l=I.current.indexOf(a.id),s=A.indexOf(a.name),n=[],i=[];i=-1===l?[...I.current,a.id]:I.current.filter((e,a)=>a!==l),n=-1===s?[...A,a.name]:A.filter((e,a)=>a!==s),0!==i.length&&n.includes("Pilih Sub Kategori")?n.shift():0===i.length&&n.push("Pilih Sub Kategori"),P(n),I.current=i,O()},E=e=>{u.current=e,clearTimeout(c);let a=setTimeout(()=>{O()},1e3);o(a)},O=e=>{let a=b*f;a>=n&&(a=0),R(am({keywords:u.current,limit:f,offset:b*f,supplierIds:C.current,subCategoryIds:I.current,orderBy:e}))},W=e=>{i===e?r(-1):r(e)},K=e=>e===i?(0,l.jsx)(eu.Z,{title:"Tutup",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),W(e)},children:(0,l.jsx)(eq.Z,{fontSize:"small"})})}):(0,l.jsx)(eu.Z,{title:"Buka",children:(0,l.jsx)(U.Z,{onClick:a=>{a.stopPropagation(),W(e)},children:(0,l.jsx)(eF.Z,{fontSize:"small"})})}),T=()=>R((0,_.L)("create-supply")),H=e=>{let a=e=>e<10?"0".concat(e):"".concat(e),t=new Date(e),l=t.getDate(),s=t.getMonth(),n=t.getFullYear();return"".concat(a(l),"/").concat(a(s+1),"/").concat(n)},M=e=>"Rp. ".concat(e.toLocaleString("id")),L=()=>{switch(m){case"":x("ASC");break;case"ASC":x("DESC");break;case"DESC":x("")}},J=(e,a)=>w({...N,[e]:a}),Y=e=>{let a=N[e];a||w({...N,[e]:"-"}),R(ax({id:e,description:N[e]}))};return(0,l.jsxs)("div",{className:"root-with-filter",children:[(0,l.jsx)("div",{className:"register-container",children:(0,l.jsx)(g.Z,{variant:"contained",className:"global-btn",onClick:T,children:"Buat Supply Baru"})}),(0,l.jsxs)("div",{className:"table-content",children:[(0,l.jsxs)("div",{className:"filter-group mb-50",children:[(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Invoice"})}),(0,l.jsx)(v.Z,{placeholder:"Masukkan Invoice",variant:"outlined",size:"small",fullWidth:!0,value:u.current,onChange:e=>E(e.target.value)})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Supplier"})}),(0,l.jsx)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:S,variant:"outlined",size:"small",onChange:e=>z(e.target.value),fullWidth:!0,multiple:!0,children:a.map((e,a)=>(0,l.jsxs)(ea.Z,{value:e.id,children:[(0,l.jsx)(D.Z,{size:"small",checked:C.current.includes(e.id)}),(0,l.jsx)(el.Z,{primary:e.name})]}))})]})}),(0,l.jsx)("div",{className:"width-30",children:(0,l.jsxs)("div",{className:"text-align-left",children:[(0,l.jsx)("p",{className:"mb-10",children:(0,l.jsx)("b",{children:"Sub Kategori"})}),(0,l.jsx)(ee.Z,{className:"text-align-left",renderValue:e=>e.join(", "),value:A,variant:"outlined",size:"small",onChange:e=>B(e.target.value),fullWidth:!0,multiple:!0,children:t.map((e,a)=>(0,l.jsxs)(ea.Z,{value:e.id,children:[(0,l.jsx)(D.Z,{size:"small",checked:I.current.includes(e.id)}),(0,l.jsx)(el.Z,{primary:e.name})]}))})]})})]}),e.length?(0,l.jsx)("div",{className:"table-container",children:(0,l.jsxs)(G.Z,{children:[(0,l.jsx)(q.Z,{sx:{maxHeight:"60vh"},children:(0,l.jsxs)(F.Z,{stickyHeader:!0,"aria-label":"sticky table",sx:{minWidth:650},size:"small",children:[(0,l.jsx)(V.Z,{children:(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(X.Z,{align:"center",width:"5%",children:"No."}),(0,l.jsx)(X.Z,{align:"left",width:"20%",children:"ID"}),(0,l.jsx)(X.Z,{align:"left",width:"25%",children:"Sub Kategori"}),(0,l.jsx)(X.Z,{align:"center",width:"25%",children:"Rak"}),(0,l.jsx)(X.Z,{align:"center",width:"25%",colSpan:2,children:(0,l.jsxs)(eY.Z,{sx:{display:"flex",alignItems:"center"},children:["Tanggal Masuk",m?(0,l.jsx)(e4.Z,{className:"btn-sort ".concat("ASC"===m?"up":"down"),onClick:L}):(0,l.jsx)(e9.Z,{className:"btn-sort",onClick:L})]})})]})}),(0,l.jsx)($.Z,{children:e.map((e,a)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(Q.Z,{sx:{"& > *":{borderBottom:"unset !important"}},onMouseOver:()=>j(a+1),onMouseOut:()=>j(0),onClick:()=>{W(a)},className:p===a+1?"table-row-hover":"",children:[(0,l.jsx)(X.Z,{align:"center",width:"10%",children:a+1+b*f}),(0,l.jsx)(X.Z,{align:"left",children:e.unique_id}),(0,l.jsx)(X.Z,{align:"left",children:e.sub_category.name}),(0,l.jsx)(X.Z,{align:"center",children:e.rack.name}),(0,l.jsx)(X.Z,{align:"center",children:H(e.supply.issued_date)}),(0,l.jsx)(X.Z,{align:"center",children:K(a)})]},e.id),(0,l.jsxs)(Q.Z,{className:p===a+1?"table-row-hover":"",onMouseOver:()=>j(a+1),onMouseOut:()=>j(0),children:[(0,l.jsx)(X.Z,{className:"p-0"}),(0,l.jsx)(X.Z,{align:"left",colSpan:4,className:"p-0",children:(0,l.jsx)(eJ.Z,{in:i===a,timeout:"auto",unmountOnExit:!0,children:(0,l.jsxs)(eY.Z,{className:"ml-40 mb-15",children:[(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Supplier"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.supply.supplier.name})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Stok"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:e.stock})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Harga Beli"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:M(e.buying_price)})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{variant:"caption",children:"Harga Jual"}),(0,l.jsx)(eG.Z,{variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(eG.Z,{variant:"caption",children:M(e.selling_price)})})]}),(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",width:"80%",children:[(0,l.jsx)(eY.Z,{className:"width-20",children:(0,l.jsxs)(eY.Z,{className:"d-flex flex-space-between",children:[(0,l.jsx)(eG.Z,{sx:{marginTop:"2.5px"},variant:"caption",children:"Deskripsi"}),(0,l.jsx)(eG.Z,{sx:{marginTop:"2.5px"},variant:"caption",children:":"})]})}),(0,l.jsx)(eY.Z,{className:"width-80 ml-10",textAlign:"justify",children:(0,l.jsx)(v.Z,{type:"text",InputProps:{disableUnderline:!0},variant:"standard",value:N[e.id],onChange:a=>J(e.id,a.target.value),size:"small",sx:{marginTop:"0px !important"},inputProps:{style:{fontSize:"12px",textAlign:"justify"}},onBlur:a=>Y(e.id),fullWidth:!0,className:"mb-5 mt-5",multiline:!0})})]})]})})}),(0,l.jsx)(X.Z,{className:"p-0"})]})]}))})]})}),(0,l.jsx)(et.Z,{className:"table-pagination",rowsPerPageOptions:[25,50,100],component:"div",count:n,rowsPerPage:f,page:b,onPageChange:(e,a)=>{y(a)},onRowsPerPageChange:e=>{Z(+e.target.value)}})]})}):(0,l.jsx)(ed,{})]})]})}function ap(){let e=(0,d.v9)(e=>e.GlobalContextReducer.routeName),a=(0,h.T)(),t=(0,u.useRouter)(),[n,i]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{localStorage.getItem("access_token")?(a((0,w.AW)(t)),a((0,w.$j)())):t.push("/auth"),i(!0)},[]),n)?(0,l.jsx)(o,{children:(0,l.jsxs)("div",{className:"flex-start",style:{height:"100vh",width:"100%"},children:[(0,l.jsx)(P,{}),(0,l.jsx)("div",{className:"pl-25 pr-25 root-page",children:(()=>{switch(e){case"roles":return(0,l.jsx)(Y,{});case"user":return(0,l.jsx)(eh,{});case"employees":return(0,l.jsx)(ev,{});case"catalogs":return(0,l.jsx)(eS,{});case"categories":return(0,l.jsx)(eR,{});case"sub_categories":return(0,l.jsx)(eK,{});case"racks":return(0,l.jsx)(eL,{});case"suppliers":return(0,l.jsx)(e3,{});case"supplies":return(0,l.jsx)(at,{});case"items":return(0,l.jsx)(ag,{});case"create-supply":return(0,l.jsx)(au,{});default:return(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",height:"100%"},children:(0,l.jsx)("h1",{children:"UNDER CONSTRUCTION"})})}})()})]})}):(0,l.jsx)(l.Fragment,{})}},8599:function(e,a,t){"use strict";t.d(a,{$j:function(){return r},AW:function(){return c},g6:function(){return d},n1:function(){return i},bc:function(){return n},lK:function(){return o}});var l=t(18),s=t(5143);let n=e=>async a=>{try{let{data:t}=await l.Z.post("/login",{external_id:e.username,password:e.password});t&&(a({type:"auth/login",payload:t.user}),function(e){for(let a in e)localStorage.setItem(a,e[a])}({access_token:t.token}),a(r()))}catch(e){return a({type:"auth/loginError"}),e}},i=e=>async a=>{let{username:t,password:s,newPassword:n}=e;try{await l.Z.post("/change-password",{external_id:t,password:s,newPassword:n},{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}}),a({type:"auth/changePasswordSuccess"})}catch(e){return a({type:"auth/changePasswordError"}),e}},r=()=>async e=>{let a=localStorage.getItem("access_token"),{data:t}=await l.Z.get("/features",{headers:{Authorization:"Bearer "+a}});t&&e({type:"auth/features",payload:t.features})},c=e=>async a=>{try{let e=localStorage.getItem("access_token"),{data:t}=await l.Z.get("/profile",{headers:{Authorization:"Bearer "+e}});t&&a({type:"auth/login",payload:t})}catch(a){localStorage.removeItem("access_token"),e.push("/auth")}};function d(){return e=>{e({type:"auth/turnOffLoginError"})}}function o(){return e=>{e((0,s.L)("")),e({type:"auth/logout"})}}},5143:function(e,a,t){"use strict";function l(e){return a=>{a({type:"GC/loading-".concat(e?"on":"off")})}}function s(e){return a=>{a({type:"GC/set-route",payload:e})}}t.d(a,{L:function(){return s},c:function(){return l}})},3773:function(e){e.exports={"create-supply-container":"CreateSupply_create-supply-container__r8Fim",content:"CreateSupply_content__QwHWV",form:"CreateSupply_form__n_kbD","form-group":"CreateSupply_form-group__BNQjw","user-input":"CreateSupply_user-input___S_56","form-barang":"CreateSupply_form-barang__qCwtr","barang-table-container":"CreateSupply_barang-table-container__nfL08","title-container":"CreateSupply_title-container__6araz","back-btn":"CreateSupply_back-btn__f_6Hx","submit-btn-container":"CreateSupply_submit-btn-container__8OFvv","save-btn":"CreateSupply_save-btn__Qs26e"}},74:function(e){e.exports={loading:"Global_loading__YsvMj",hide:"Global_hide__QWE2z"}},4341:function(e){e.exports={root:"Navbar_root__hAE58",tabs:"Navbar_tabs__ohPKU","primary-color":"Navbar_primary-color__PUYqK","account-tab":"Navbar_account-tab__pLsEZ","account-setting-btn":"Navbar_account-setting-btn___xmwf","button-tab":"Navbar_button-tab__10mbw","image-container":"Navbar_image-container__YmRVZ"}},2978:function(e){e.exports={root:"RBAC_root__zp0Ji","role-container":"RBAC_role-container__j2z8O","new-role-name":"RBAC_new-role-name__WfHid",role:"RBAC_role__Rsv_H","role-title":"RBAC_role-title__w2iUK",show:"RBAC_show__pvlHB",hide:"RBAC_hide__h2dwz",permissions:"RBAC_permissions__WaYnJ","permission-detail":"RBAC_permission-detail__2R8SS","create-div":"RBAC_create-div__Kxhjd"}}},function(e){e.O(0,[662,288,303,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);